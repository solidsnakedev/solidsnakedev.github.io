---
import MobileNavModal from './MobileNavModal.astro';
import Logo from './Logo.astro';
import { NAV_ITEMS } from '../config/navigation.js';

const currentPath = Astro.url.pathname;
---

<header class="mb-2">
  <div class="w-full px-4 md:px-8 lg:px-16 py-2 border-b border-amber-500/50">
    <div class="flex items-center justify-between gap-3 md:gap-6">
      <Logo size="large" enableGlitch={true} />
      
      <!-- Desktop Navigation -->
      <nav aria-label="Main navigation" class="hidden md:flex gap-2 md:gap-4 text-xl md:text-2xl">
        {NAV_ITEMS.map((item) => (
          <a 
            href={item.href}
            class={`hover:text-white transition-colors ${
              currentPath === item.href ? 'text-white font-bold' : 'text-amber-500'
            }`}
            aria-current={currentPath === item.href ? 'page' : undefined}
          >
            [{item.name}]
          </a>
        ))}
      </nav>

      <!-- Mobile Menu Button -->
      <button 
        id="mobile-menu-btn"
        class="md:hidden text-amber-500 text-2xl hover:text-white transition-colors p-2 -mr-2"
        aria-label="Open navigation menu"
        aria-expanded="false"
      >
        â˜°
      </button>
    </div>
  </div>
</header>

<!-- Mobile Navigation Modal Component -->
<MobileNavModal navItems={NAV_ITEMS} currentPath={currentPath} />
